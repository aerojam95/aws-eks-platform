###############################################################################
# Providers
###############################################################################

# AWS provider configuration
provider "aws" {
  region = local.region
}

###############################################################################
# Local variables
###############################################################################

locals {

  #############################################################################
  # General
  #############################################################################
  region = var.region
  name   = var.name

  resource_tags = {
    "Owner"       = "${data.aws_caller_identity.current.user_id}"
    "Project"     = "${var.name}" 
  }

  #############################################################################
  # VPC
  #############################################################################

  azs = slice(data.aws_availability_zones.available.names, 0, length(data.aws_availability_zones.available.names))

  #############################################################################
  # AWS Cloud Map
  #############################################################################

  namespace_name = var.name
}

###############################################################################
# VPC data
###############################################################################

data "aws_availability_zones" "available" {}
data "aws_caller_identity" "current" {}